{"version":3,"sources":["webpack:///./src/api/learning-user.ts","webpack:///./src/module-portal/pages/login/index.vue?ea73","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/module-portal/pages/login/components/register-form.vue?9e0c","webpack:///./src/module-portal/pages/login/index.vue?d0e6","webpack:///./src/module-portal/pages/login/components/login-form.vue?23bc","webpack:///./src/utils/validate.ts","webpack:///./src/module-portal/pages/login/components/login-form.vue?97e8","webpack:///./src/module-portal/pages/login/components/login-form.vue?e8ca","webpack:///./src/module-portal/pages/login/components/login-form.vue","webpack:///./src/module-portal/pages/login/components/register-form.vue?10d9","webpack:///./src/module-portal/pages/login/components/register-form.vue?c793","webpack:///./src/module-portal/pages/login/components/register-form.vue?dc68","webpack:///./src/module-portal/pages/login/components/register-form.vue","webpack:///./src/module-portal/pages/login/index.vue?bd34","webpack:///./src/module-portal/pages/login/index.vue?7422","webpack:///./src/module-portal/pages/login/index.vue","webpack:///./src/module-portal/pages/login/index.vue?ebf8","webpack:///./src/api/common.ts"],"names":["verify","params","async","data","changePwd","verifyToken","body","undefined","register","$","$indexOf","indexOf","sloppyArrayMethod","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","target","proto","forced","searchElement","apply","this","arguments","length","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","portal_url","_v","_m","class","activ","isRegnew","on","$event","onTabSelect","directives","name","rawName","value","expression","changeState","staticRenderFns","ref","loginForm","loginRules","model","callback","$$v","$set","autoLogin","staticStyle","loading","handleLogin","isValidUserName","str","trim","validateUserName","rule","Error","validatePassword","username","required","message","trigger","password","$refs","validate","valid","Login","location","href","component","form","rules","isSending","smsMsg","_s","buttonTips","handleRegister","TIME_COUNT","sendTimer","sendCount","phone","verifyCode","confirmPwd","verifyKey","signAgreement","validatePhone","test","validateField","validateConfirmPwd","validateSignAgreement","validator","errorMessage","setInterval","clearInterval","isValid","$emit","$route","query","type","components","LoginForm","RegisterForm","getQnParams"],"mappings":"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","file":"js/chunk-2a3f6266.afe3c214.js","sourcesContent":["import { createAPI } from '@/utils/request'\r\nimport { IUserInfo } from '@/entity/user-login'\r\n\r\n// 验证手机 验证码\r\nexport async function verify(params: any): Promise<string> {\r\n  const { data } = await createAPI(\r\n    '/learning/xcUser/changePwd/verify',\r\n    'post',\r\n    params\r\n  )\r\n  return data\r\n}\r\n\r\n// 修改用户密码\r\nexport async function changePwd(\r\n  verifyToken: string,\r\n  body: any\r\n): Promise<boolean> {\r\n  const { data } = await createAPI(\r\n    `/learning/xcUser/changePwd/${verifyToken}`,\r\n    'post',\r\n    undefined,\r\n    body\r\n  )\r\n  return data\r\n}\r\n\r\n// 获取用户的信息（此接口后端老师说不调用）\r\nexport async function profile(userId: number): Promise<IUserInfo> {\r\n  const { data } = await createAPI(`/learning/xcUser/${userId}`, 'get')\r\n  return data\r\n}\r\n\r\n// 用户注册\r\nexport async function register(body: any): Promise<boolean> {\r\n  const { data } = await createAPI('/learning/xcUser', 'post', undefined, body)\r\n  return data\r\n}\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register-form.vue?vue&type=style&index=0&id=8096a1aa&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register-form.vue?vue&type=style&index=0&id=8096a1aa&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('a',{staticClass:\"backIndex\",attrs:{\"href\":_vm.portal_url + '/pages/learing-index.html'}},[_c('i',{staticClass:\"el-icon-s-home\"}),_vm._v(\" 返回首页 \")]),_c('div',{staticClass:\"register-body container text-center\"},[_vm._m(0),_c('div',{staticClass:\"signTit cl\"},[_c('span',{staticClass:\"sign\",class:{ activ: !_vm.isRegnew },on:{\"click\":function($event){return _vm.onTabSelect('sign')}}},[_vm._v(\"登录\")]),_c('span',{staticClass:\"reg\",class:{ activ: _vm.isRegnew },on:{\"click\":function($event){return _vm.onTabSelect('reg')}}},[_vm._v(\"注册\")])]),_c('login-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isRegnew),expression:\"!isRegnew\"}]}),_c('register-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRegnew),expression:\"isRegnew\"}],on:{\"changeState\":_vm.changeState}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signIco\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/logoIco.png\"),\"alt\":\"logo\",\"width\":\"180\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signItem\"},[_c('el-form',{ref:\"loginForm\",attrs:{\"label-position\":\"top\",\"label-width\":\"80px\",\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('el-form-item',{attrs:{\"label\":\"账户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"登录密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-checkbox',{model:{value:(_vm.autoLogin),callback:function ($$v) {_vm.autoLogin=$$v},expression:\"autoLogin\"}},[_vm._v(\"自动登录\")])],1),_c('el-col',{attrs:{\"span\":4}},[_c('router-link',{attrs:{\"to\":\"/forget-password\"}},[_vm._v(\"忘记密码\")])],1)],1)],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"登录\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const isValidUserName = (str: string) => ['admin', 'editor', 'repairer', 'operater'].indexOf(str.trim()) >= 0;\r\nexport const isExternal = (path: string) => /^(https?:|mailto:|tel:)/.test(path);\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm, Input } from 'element-ui'\r\nimport { isValidUserName } from '@/utils/validate'\r\nimport { UserModule } from '@/store/modules/user'\r\n\r\n@Component\r\nexport default class LoginForm extends Vue {\r\n  private autoLogin: boolean = false\r\n  private loading = false\r\n\r\n  private validateUserName = (rule: any, value: string, callback: Function) => {\r\n    if (!isValidUserName(value)) {\r\n      callback(new Error('Please enter the correct user name'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  private validatePassword = (rule: any, value: string, callback: Function) => {\r\n    if (value.length < 6) {\r\n      callback(new Error('The password can not be less than 6 digits'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  private loginRules = {\r\n    // username: [{ validator: this.validateUserName, trigger: 'blur' }],\r\n    // password: [{ validator: this.validatePassword, trigger: 'blur' }]\r\n    username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n    password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n  }\r\n\r\n  private loginForm = {\r\n    username: '',\r\n    password: ''\r\n    //username: '15022222227',\r\n    //password: '123456'\r\n  }\r\n\r\n  private handleLogin() {\r\n    // localStorage.setItem('loginName', this.loginForm.loginName)\r\n    // localStorage.setItem('password', this.loginForm.password)\r\n    let loginForm: ElForm = this.$refs.loginForm as ElForm\r\n    loginForm.validate(async (valid: boolean) => {\r\n      if (valid) {\r\n        // this.loading = true\r\n        await UserModule.Login(this.loginForm)\r\n        location.href = `${process.env.VUE_APP_CLIENT_PORTAL_URL}/pages/learing-index.html`\r\n        // this.loading = false\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login-form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./login-form.vue?vue&type=template&id=33eafd66&\"\nimport script from \"./login-form.vue?vue&type=script&lang=ts&\"\nexport * from \"./login-form.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signItem\"},[_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"手机号码：\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"短信验证码：\",\"prop\":\"verifyCode\"}},[_c('el-row',{attrs:{\"gutter\":10,\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":15}},[_c('el-input',{attrs:{\"placeholder\":\"请输入短信验证码\"},model:{value:(_vm.form.verifyCode),callback:function ($$v) {_vm.$set(_vm.form, \"verifyCode\", $$v)},expression:\"form.verifyCode\"}})],1),_c('el-col',{attrs:{\"span\":9}},[_c('el-button',{staticClass:\"verify-button\",attrs:{\"type\":\"primary\",\"disabled\":_vm.isSending},on:{\"click\":_vm.smsMsg}},[_vm._v(_vm._s(_vm.buttonTips))])],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"设置密码：\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"6-16位密码，区分大小写\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码：\",\"prop\":\"confirmPwd\"}},[_c('el-input',{attrs:{\"placeholder\":\"重复密码\"},model:{value:(_vm.form.confirmPwd),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPwd\", $$v)},expression:\"form.confirmPwd\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"signAgreement\"}},[_c('el-checkbox',{model:{value:(_vm.form.signAgreement),callback:function ($$v) {_vm.$set(_vm.form, \"signAgreement\", $$v)},expression:\"form.signAgreement\"}},[_vm._v(\"同意协议并注册\")]),_c('a',{attrs:{\"href\":\"/doc/叶凡网注册协议.docx\",\"download\":\"\"}},[_vm._v(\"《叶凡网注册协议》\")])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleRegister}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm } from 'element-ui'\r\nimport { smsMsg } from '@/api/common'\r\nimport { register } from '@/api/learning-user'\r\n\r\nconst TIME_COUNT = 90\r\n@Component\r\nexport default class RegisterForm extends Vue {\r\n  private loading = false\r\n  // 验证码\r\n  private isSending: boolean = false\r\n  private sendTimer: number = 0\r\n  private sendCount: number = 0\r\n  // 表单数据\r\n  private form: any = {\r\n    phone: '',\r\n    verifyCode: '',\r\n    password: '',\r\n    confirmPwd: '',\r\n    verifyKey: '',\r\n    signAgreement: false\r\n  }\r\n  // 验证详情\r\n  // 手机号正则，参考：http://caibaojian.com/phone-regexp.html\r\n  private validatePhone = (rule: any, value: any, callback: any) => {\r\n    if (!/^1[0-9]{10}$/.test(value)) {\r\n      callback(new Error('请输入正确的手机号'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // TODO: 密码其他校验\r\n  private validatePassword: any = (rule, value, callback) => {\r\n    if (value === '') {\r\n      callback(new Error('请输入密码'))\r\n    } else {\r\n      if (this.form.confirmPwd !== '') {\r\n        let form = this.$refs['form'] as ElForm\r\n        form.validateField('confirmPwd', () => {})\r\n      }\r\n      callback()\r\n    }\r\n  }\r\n  private validateConfirmPwd: any = (rule, value, callback) => {\r\n    if (value === '') {\r\n      callback(new Error('请再次输入密码'))\r\n    } else if (value !== this.form.password) {\r\n      callback(new Error('两次输入密码不一致!'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  private validateSignAgreement: any = (rule, value, callback) => {\r\n    if (!value) {\r\n      callback(new Error('请阅读并同意协议'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n  // 表单验证\r\n  // TODO: 增加rules校验\r\n  private rules: any = {\r\n    phone: [\r\n      {\r\n        required: true,\r\n        message: '请输入手机号',\r\n        trigger: 'change'\r\n      },\r\n      { validator: this.validatePhone, trigger: 'change' }\r\n    ],\r\n    verifyCode: [\r\n      {\r\n        required: true,\r\n        message: '请输入短信验证码',\r\n        trigger: 'change'\r\n      }\r\n    ],\r\n    password: [{ validator: this.validatePassword, trigger: 'change' }],\r\n    confirmPwd: [{ validator: this.validateConfirmPwd, trigger: 'change' }],\r\n    signAgreement: [\r\n      { validator: this.validateSignAgreement, trigger: 'change' }\r\n    ]\r\n  }\r\n\r\n  // computed\r\n  get buttonTips() {\r\n    if (!this.isSending) {\r\n      return '获取验证码'\r\n    }\r\n    return `${this.sendCount}s`\r\n  }\r\n\r\n  /**\r\n   * 发送短信验证码\r\n   */\r\n  private async smsMsg() {\r\n    let form = this.$refs['form'] as ElForm\r\n    form.validateField('phone', async (errorMessage: string) => {\r\n      if (errorMessage) {\r\n        return\r\n      }\r\n      this.isSending = true\r\n      this.sendCount = TIME_COUNT\r\n      this.form.verifyKey = await smsMsg(this.form.phone)\r\n\r\n      this.sendTimer = setInterval(() => {\r\n        if (this.sendCount > 0) {\r\n          this.sendCount--\r\n        } else {\r\n          clearInterval(this.sendTimer)\r\n          this.isSending = false\r\n        }\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 用户注册\r\n   */\r\n  public async handleRegister() {\r\n    let form: ElForm = this.$refs['form'] as ElForm\r\n    form.validate(async (isValid: boolean) => {\r\n      if (isValid) {\r\n        this.loading = true\r\n        await register(this.form)\r\n\r\n        this.$emit('changeState', false)\r\n        this.loading = false\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register-form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register-form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./register-form.vue?vue&type=template&id=8096a1aa&scoped=true&\"\nimport script from \"./register-form.vue?vue&type=script&lang=ts&\"\nexport * from \"./register-form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./register-form.vue?vue&type=style&index=0&id=8096a1aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8096a1aa\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator'\r\nimport { Form as ElForm, Input } from 'element-ui'\r\nimport LoginForm from './components/login-form.vue'\r\nimport RegisterForm from './components/register-form.vue'\r\n\r\n@Component({\r\n  name: 'Register',\r\n  components: {\r\n    LoginForm,\r\n    RegisterForm\r\n  }\r\n})\r\nexport default class extends Vue {\r\n  private isRegnew: boolean = false\r\n  private portal_url = process.env.VUE_APP_CLIENT_PORTAL_URL\r\n\r\n  created() {\r\n    let isRegnew: any = this.$route.query.isRegnew\r\n    this.isRegnew = isRegnew === '0' ? false : true\r\n  }\r\n\r\n  private onTabSelect(type: string) {\r\n    if (type == 'reg') {\r\n      this.isRegnew = true\r\n    } else {\r\n      this.isRegnew = false\r\n    }\r\n  }\r\n\r\n  private changeState(isRegnew: boolean) {\r\n    this.isRegnew = isRegnew\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5bb3ef1a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5bb3ef1a&lang=css&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bb3ef1a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5bb3ef1a&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5bb3ef1a&lang=css&scoped=true&\"","import { createAPI } from '@/utils/request'\r\nimport { IQnParamsDTO } from '@/entity/media-page-list'\r\n\r\n// 根据申请人手机号获取验证码\r\nexport async function smsMsg(phone: string): Promise<string> {\r\n  const { data } = await createAPI('/content/common/smsMsg', 'get', {\r\n    phone: phone\r\n  })\r\n  return data\r\n}\r\n\r\n// 获取七牛云上传凭证\r\nexport async function getQnParams(): Promise<IQnParamsDTO> {\r\n  const { data } = await createAPI('/content/common/qnUploadToken', 'get')\r\n  return data\r\n}"],"sourceRoot":""}