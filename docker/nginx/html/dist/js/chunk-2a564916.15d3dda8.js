(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a564916"],{"13c6":function(e,t,n){"use strict";var a=n("f01f"),i=n.n(a);i.a},"4cff":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"course-list portal-content"},[n("div",{staticClass:"workspace"},[n("div",{staticClass:"banner"},[n("span",{staticClass:"primary-title"},[e._v("作业管理")]),n("el-button",{staticClass:"btn-add el-button",attrs:{type:"primary",size:"medium"},on:{click:e.handleOpenAddWorkDialog}},[e._v("+新增作业")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"dataList",staticStyle:{width:"100%"},attrs:{data:e.listResult.items,border:"","header-cell-style":{textAlign:"center"}}},[n("el-table-column",{attrs:{prop:"title",label:"作业信息",width:"400",align:"center"}}),n("el-table-column",{attrs:{label:"绑定课程",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("bindCoursesFormat")(t.row.bindCourses)))]}}])}),n("el-table-column",{attrs:{prop:"userNum",label:"答题人数",align:"center"}}),n("el-table-column",{attrs:{label:"修改时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("dateTimeFormat")(t.row.changeDate)))]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return e.handleOpenEditWorkDialog(t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return e.handleOpenDeleteWorkConfirm(t.row.workId)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"dataList-pagination"},[n("Pagination",{directives:[{name:"show",rawName:"v-show",value:e.listResult.counts>0,expression:"listResult.counts > 0"}],attrs:{total:e.listResult.counts,page:e.listQuery.pageNo,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getWorkPageList}})],1)],1),n("work-add-dialog",{attrs:{dialogVisible:e.dialogVisible,work:e.work},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t},refreshList:e.getWorkPageList}})],1)},i=[],r=(n("a15b"),n("d3b7"),n("96cf"),n("9f12")),o=n("53fe"),s=n("8b83"),c=n("c65a"),l=n("c03e"),u=n("9ab4"),d=n("60a3"),p=n("4d86"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.getAction()+"作业",visible:e.syncDialogVisible},on:{"update:visible":function(t){e.syncDialogVisible=t},open:e.clearValidate,close:e.clearValidate}},[n("el-form",{ref:"form",attrs:{model:e.work,rules:e.rules,"label-width":e.formLabelWidth}},[n("el-form-item",{attrs:{label:"作业名称：",prop:"title"}},[n("el-input",{attrs:{placeholder:"请输入作业名称"},model:{value:e.work.title,callback:function(t){e.$set(e.work,"title",t)},expression:"work.title"}})],1),n("el-form-item",{attrs:{label:"题干：",prop:"question"}},[n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入作业要求",maxlength:"500","show-word-limit":""},model:{value:e.work.question,callback:function(t){e.$set(e.work,"question",t)},expression:"work.question"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.syncDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleAddWork}},[e._v("提 交")])],1)],1)},g=[],b=n("c910"),h=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.formLabelWidth="120px",e.rules={title:[{required:!0,message:"请输入作业名称",trigger:"change"}],question:[{required:!0,message:"请输入作业要求",trigger:"change"}]},e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"getAction",value:function(){return this.work.workId?"编辑":"新增"}},{key:"clearValidate",value:function(){var e=this;this.$nextTick((function(){var t=e.$refs["form"];t.clearValidate()}))}},{key:"handleAddWork",value:function(){var e,t;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(e=!0,t=this.$refs["form"],t.validate((function(t){e=t})),e){n.next=5;break}return n.abrupt("return",e);case 5:return n.next=7,regeneratorRuntime.awrap(Object(b["a"])(this.work));case 7:this.$message.success("".concat(this.getAction(),"作业成功")),this.syncDialogVisible=!1,this.refreshList();case 10:case"end":return n.stop()}}),null,this)}},{key:"refreshList",value:function(){}}]),t}(d["e"]);u["a"]([Object(d["d"])("dialogVisible",{type:Boolean,required:!0,default:!1})],h.prototype,"syncDialogVisible",void 0),u["a"]([Object(d["c"])({type:Object,required:!0})],h.prototype,"work",void 0),u["a"]([Object(d["b"])("refreshList")],h.prototype,"refreshList",null),h=u["a"]([d["a"]],h);var m=h,v=m,y=n("2877"),w=Object(y["a"])(v,f,g,!1,null,null,null),k=w.exports,O=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.listLoading=!1,e.listQuery={pageNo:1,pageSize:10},e.listResult={},e.dialogVisible=!1,e.work=Object.assign({},b["b"]),e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"getWorkPageList",value:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.next=3,regeneratorRuntime.awrap(Object(b["d"])(this.listQuery));case 3:this.listResult=e.sent,this.listLoading=!1;case 5:case"end":return e.stop()}}),null,this)}},{key:"handleOpenAddWorkDialog",value:function(){this.work=Object.assign({},b["b"]),this.dialogVisible=!0}},{key:"handleOpenEditWorkDialog",value:function(e){this.work.workId=e.workId,this.work.title=e.title,this.work.question=e.question,this.dialogVisible=!0}},{key:"handleOpenDeleteWorkConfirm",value:function(e){var t=this;this.$confirm("此操作将永久移除该作业, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Object(b["c"])(e));case 2:n.sent,t.getWorkPageList(),t.$message({type:"success",message:"移除成功!"});case 5:case"end":return n.stop()}}))})).catch((function(){t.$message({type:"info",message:"已取消移除"})}))}},{key:"watchListQueryData",value:function(e){""!=e&&this.getWorkPageList()}},{key:"watchListQueryPageSize",value:function(e){this.listQuery.pageNo=1}}]),t}(d["e"]);u["a"]([Object(d["f"])("listQueryData",{deep:!0,immediate:!0})],O.prototype,"watchListQueryData",null),u["a"]([Object(d["f"])("listQuery.pageSize",{immediate:!0})],O.prototype,"watchListQueryPageSize",null),O=u["a"]([Object(d["a"])({components:{Pagination:p["a"],WorkAddDialog:k},filters:{bindCoursesFormat:function(e){return null==e||0==e.length?"":"《"+e.join("》，《")+"》"}}})],O);var j=O,x=j,z=(n("89ed"),Object(y["a"])(x,a,i,!1,null,"82e14c3c",null));t["default"]=z.exports},"4d86":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[],r=n("9f12"),o=n("53fe"),s=n("8b83"),c=n("c65a"),l=n("c03e"),u=n("9ab4"),d=n("60a3"),p=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},f=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),g=function(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e},b=function(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop},h=function(e,t,n){var a=b(),i=e-a,r=20,o=0;t="undefined"===typeof t?500:t;var s=function e(){o+=r;var s=p(o,a,i,t);g(s),o<t?f(e):n&&"function"===typeof n&&n()};s()},m=function(e){function t(){return Object(r["a"])(this,t),Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"handleSizeChange",value:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&h(0,800)}},{key:"handleCurrentChange",value:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&h(0,800)}},{key:"currentPage",get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},{key:"pageSize",get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}]),t}(d["e"]);u["a"]([Object(d["c"])({required:!0})],m.prototype,"total",void 0),u["a"]([Object(d["c"])({default:1})],m.prototype,"page",void 0),u["a"]([Object(d["c"])({default:20})],m.prototype,"limit",void 0),u["a"]([Object(d["c"])({default:function(){return[10,20,30,50]}})],m.prototype,"pageSizes",void 0),u["a"]([Object(d["c"])({default:"total, sizes, prev, pager, next, jumper"})],m.prototype,"layout",void 0),u["a"]([Object(d["c"])({default:!0})],m.prototype,"background",void 0),u["a"]([Object(d["c"])({default:!0})],m.prototype,"autoScroll",void 0),u["a"]([Object(d["c"])({default:!1})],m.prototype,"hidden",void 0),m=u["a"]([Object(d["a"])({name:"Pagination"})],m);var v=m,y=v,w=(n("13c6"),n("2877")),k=Object(w["a"])(y,a,i,!1,null,"12c40ef0",null);t["a"]=k.exports},"89ed":function(e,t,n){"use strict";var a=n("927d"),i=n.n(a);i.a},"927d":function(e,t,n){},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),r=n("fc6a"),o=n("b301"),s=[].join,c=i!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:c||l},{join:function(e){return s.call(r(this),void 0===e?",":e)}})},c910:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));n("d3b7"),n("96cf");var a=n("b32d"),i={question:"",title:""};function r(){var e,t,n,i,r=arguments;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:void 0,t=r.length>1&&void 0!==r[1]?r[1]:void 0,o.next=4,regeneratorRuntime.awrap(Object(a["a"])("/teaching/work/list","post",e,t));case 4:return n=o.sent,i=n.data,o.abrupt("return",i);case 7:case"end":return o.stop()}}))}function o(e){var t,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(a["a"])("/teaching/work","post",null,e));case 2:return t=i.sent,n=t.data,i.abrupt("return",n);case 5:case"end":return i.stop()}}))}function s(e){var t,n;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(Object(a["a"])("/teaching/work/".concat(e),"delete"));case 2:return t=i.sent,n=t.data,i.abrupt("return",n);case 5:case"end":return i.stop()}}))}},f01f:function(e,t,n){}}]);
//# sourceMappingURL=chunk-2a564916.15d3dda8.js.map