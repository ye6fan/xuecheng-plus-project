(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a3f6266"],{"5b9d":function(e,t,r){},"7ac8":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));r("d3b7"),r("96cf");var n=r("b32d");function a(e){var t,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Object(n["a"])("/learning/xcUser/changePwd/verify","post",e));case 2:return t=a.sent,r=t.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}))}function s(e,t){var r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Object(n["a"])("/learning/xcUser/changePwd/".concat(e),"post",void 0,t));case 2:return r=s.sent,a=r.data,s.abrupt("return",a);case 5:case"end":return s.stop()}}))}function i(e){var t,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Object(n["a"])("/learning/xcUser","post",void 0,e));case 2:return t=a.sent,r=t.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}))}},"8f91":function(e,t,r){},9026:function(e,t,r){"use strict";var n=r("5b9d"),a=r.n(n);a.a},c975:function(e,t,r){"use strict";var n=r("23e7"),a=r("4d64").indexOf,s=r("b301"),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0,c=s("indexOf");n({target:"Array",proto:!0,forced:o||c},{indexOf:function(e){return o?i.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},cca6b:function(e,t,r){"use strict";var n=r("8f91"),a=r.n(n);a.a},e364:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("a",{staticClass:"backIndex",attrs:{href:e.portal_url+"/pages/learing-index.html"}},[r("i",{staticClass:"el-icon-s-home"}),e._v(" 返回首页 ")]),r("div",{staticClass:"register-body container text-center"},[e._m(0),r("div",{staticClass:"signTit cl"},[r("span",{staticClass:"sign",class:{activ:!e.isRegnew},on:{click:function(t){return e.onTabSelect("sign")}}},[e._v("登录")]),r("span",{staticClass:"reg",class:{activ:e.isRegnew},on:{click:function(t){return e.onTabSelect("reg")}}},[e._v("注册")])]),r("login-form",{directives:[{name:"show",rawName:"v-show",value:!e.isRegnew,expression:"!isRegnew"}]}),r("register-form",{directives:[{name:"show",rawName:"v-show",value:e.isRegnew,expression:"isRegnew"}],on:{changeState:e.changeState}})],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signIco"},[n("img",{attrs:{src:r("6188"),alt:"logo",width:"180"}})])}],s=r("9f12"),i=r("53fe"),o=r("8b83"),c=r("c65a"),l=r("c03e"),u=r("9ab4"),f=r("60a3"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"signItem"},[r("el-form",{ref:"loginForm",attrs:{"label-position":"top","label-width":"80px",model:e.loginForm,rules:e.loginRules}},[r("el-form-item",{attrs:{label:"账户名",prop:"username"}},[r("el-input",{model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-row",[r("el-col",{attrs:{span:20}},[r("el-checkbox",{model:{value:e.autoLogin,callback:function(t){e.autoLogin=t},expression:"autoLogin"}},[e._v("自动登录")])],1),r("el-col",{attrs:{span:4}},[r("router-link",{attrs:{to:"/forget-password"}},[e._v("忘记密码")])],1)],1)],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)],1)},m=[],g=(r("d3b7"),r("96cf"),r("c975"),r("498a"),function(e){return["admin","editor","repairer","operater"].indexOf(e.trim())>=0}),p=r("9dba"),v=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.autoLogin=!1,e.loading=!1,e.validateUserName=function(e,t,r){g(t)?r():r(new Error("Please enter the correct user name"))},e.validatePassword=function(e,t,r){t.length<6?r(new Error("The password can not be less than 6 digits")):r()},e.loginRules={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},e.loginForm={username:"",password:""},e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"handleLogin",value:function(){var e=this,t=this.$refs.loginForm;t.validate((function(t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,regeneratorRuntime.awrap(p["a"].Login(e.loginForm));case 3:location.href="".concat("http://www.yefan.xyz","/pages/learing-index.html"),r.next=7;break;case 6:return r.abrupt("return",!1);case 7:case"end":return r.stop()}}))}))}}]),t}(f["e"]);v=u["a"]([f["a"]],v);var h=v,w=h,b=r("2877"),x=Object(b["a"])(w,d,m,!1,null,null,null),y=x.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"signItem"},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top"}},[r("el-form-item",{attrs:{label:"手机号码：",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"短信验证码：",prop:"verifyCode"}},[r("el-row",{attrs:{gutter:10,justify:"space-between"}},[r("el-col",{attrs:{span:15}},[r("el-input",{attrs:{placeholder:"请输入短信验证码"},model:{value:e.form.verifyCode,callback:function(t){e.$set(e.form,"verifyCode",t)},expression:"form.verifyCode"}})],1),r("el-col",{attrs:{span:9}},[r("el-button",{staticClass:"verify-button",attrs:{type:"primary",disabled:e.isSending},on:{click:e.smsMsg}},[e._v(e._s(e.buttonTips))])],1)],1)],1),r("el-form-item",{attrs:{label:"设置密码：",prop:"password"}},[r("el-input",{attrs:{placeholder:"6-16位密码，区分大小写"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"确认密码：",prop:"confirmPwd"}},[r("el-input",{attrs:{placeholder:"重复密码"},model:{value:e.form.confirmPwd,callback:function(t){e.$set(e.form,"confirmPwd",t)},expression:"form.confirmPwd"}})],1),r("el-form-item",{attrs:{prop:"signAgreement"}},[r("el-checkbox",{model:{value:e.form.signAgreement,callback:function(t){e.$set(e.form,"signAgreement",t)},expression:"form.signAgreement"}},[e._v("同意协议并注册")]),r("a",{attrs:{href:"/doc/叶凡网注册协议.docx",download:""}},[e._v("《叶凡网注册协议》")])],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},on:{click:e.handleRegister}},[e._v("注册")])],1)],1)],1)},k=[],O=r("f727"),j=r("7ac8"),C=90,_=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.loading=!1,e.isSending=!1,e.sendTimer=0,e.sendCount=0,e.form={phone:"",verifyCode:"",password:"",confirmPwd:"",verifyKey:"",signAgreement:!1},e.validatePhone=function(e,t,r){/^1[0-9]{10}$/.test(t)?r():r(new Error("请输入正确的手机号"))},e.validatePassword=function(t,r,n){if(""===r)n(new Error("请输入密码"));else{if(""!==e.form.confirmPwd){var a=e.$refs["form"];a.validateField("confirmPwd",(function(){}))}n()}},e.validateConfirmPwd=function(t,r,n){""===r?n(new Error("请再次输入密码")):r!==e.form.password?n(new Error("两次输入密码不一致!")):n()},e.validateSignAgreement=function(e,t,r){t?r():r(new Error("请阅读并同意协议"))},e.rules={phone:[{required:!0,message:"请输入手机号",trigger:"change"},{validator:e.validatePhone,trigger:"change"}],verifyCode:[{required:!0,message:"请输入短信验证码",trigger:"change"}],password:[{validator:e.validatePassword,trigger:"change"}],confirmPwd:[{validator:e.validateConfirmPwd,trigger:"change"}],signAgreement:[{validator:e.validateSignAgreement,trigger:"change"}]},e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"smsMsg",value:function(){var e,t=this;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:e=this.$refs["form"],e.validateField("phone",(function(e){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=2;break}return r.abrupt("return");case 2:return t.isSending=!0,t.sendCount=C,r.next=6,regeneratorRuntime.awrap(Object(O["b"])(t.form.phone));case 6:t.form.verifyKey=r.sent,t.sendTimer=setInterval((function(){t.sendCount>0?t.sendCount--:(clearInterval(t.sendTimer),t.isSending=!1)}),1e3);case 8:case"end":return r.stop()}}))}));case 2:case"end":return r.stop()}}),null,this)}},{key:"handleRegister",value:function(){var e,t=this;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:e=this.$refs["form"],e.validate((function(e){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=8;break}return t.loading=!0,r.next=4,regeneratorRuntime.awrap(Object(j["b"])(t.form));case 4:t.$emit("changeState",!1),t.loading=!1,r.next=9;break;case 8:return r.abrupt("return",!1);case 9:case"end":return r.stop()}}))}));case 2:case"end":return r.stop()}}),null,this)}},{key:"buttonTips",get:function(){return this.isSending?"".concat(this.sendCount,"s"):"获取验证码"}}]),t}(f["e"]);_=u["a"]([f["a"]],_);var P=_,$=P,S=(r("cca6b"),Object(b["a"])($,R,k,!1,null,"8096a1aa",null)),F=S.exports,E=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.isRegnew=!1,e.portal_url="http://www.yefan.xyz",e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"created",value:function(){var e=this.$route.query.isRegnew;this.isRegnew="0"!==e}},{key:"onTabSelect",value:function(e){this.isRegnew="reg"==e}},{key:"changeState",value:function(e){this.isRegnew=e}}]),t}(f["e"]);E=u["a"]([Object(f["a"])({name:"Register",components:{LoginForm:y,RegisterForm:F}})],E);var T=E,A=T,L=(r("f332"),r("9026"),Object(b["a"])(A,n,a,!1,null,"5bb3ef1a",null));t["default"]=L.exports},f332:function(e,t,r){"use strict";var n=r("f577"),a=r.n(n);a.a},f577:function(e,t,r){},f727:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));r("d3b7"),r("96cf");var n=r("b32d");function a(e){var t,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Object(n["a"])("/content/common/smsMsg","get",{phone:e}));case 2:return t=a.sent,r=t.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}))}function s(){var e,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(n["a"])("/content/common/qnUploadToken","get"));case 2:return e=r.sent,t=e.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}))}}}]);
//# sourceMappingURL=chunk-2a3f6266.afe3c214.js.map